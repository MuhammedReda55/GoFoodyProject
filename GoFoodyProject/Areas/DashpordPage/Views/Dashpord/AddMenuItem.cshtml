@model MenuItemViewModel

<div class="page-body">
    <div class="container-fluid">
        <div class="page-header">
            <div class="row">
                <div class="col-lg-6">
                    <div class="page-header-left">
                        <h3>Add Menu Item</h3>
                    </div>
                </div>
                <div class="col-lg-6">
                    <ol class="breadcrumb pull-right">
                        <li class="breadcrumb-item">
                            <a asp-controller="Dashpord" asp-action="MenuList">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home">
                                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                </svg>
                            </a>
                        </li>
                        <li class="breadcrumb-item active">Add Menu Item</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Add New Menu Item</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-xl-5">
                                <div class="add-product">
                                    <div class="row">
                                        <div class="col-xl-9 xl-50 col-sm-6 col-9">
                                            <img id="previewImage" src="~/UploadsImage/RestaurantImage/@(Model.MenuItem.ProductImage ?? "default.jpg")"
                                                 alt="Menu Item Image" class="img-fluid image_zoom_1 blur-up lazyloaded">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-7">
                                <form asp-action="AddMenuItem" asp-controller="Dashpord" method="post" enctype="multipart/form-data" class="needs-validation add-product-form" novalidate="">
                                    <div class="form">
                                        <div class="form-group mb-3 row">
                                            <label for="RestaurantId" class="col-xl-3 col-sm-4 mb-0">Restaurant: </label>
                                            <select class="form-control col-xl-8 col-sm-7" id="RestaurantId" asp-for="MenuItem.RestaurantId" asp-items="@(new SelectList(Model.Restaurants, "RestaurantId", "RestaurantName"))" required="">
                                                <option value="">Select a restaurant</option>
                                            </select>
                                            <span asp-validation-for="MenuItem.RestaurantId" class="text-danger" style="font-size: 0.8rem;"></span>
                                        </div>
                                        <div class="form-group mb-3 row">
                                            <label for="FoodName" class="col-xl-3 col-sm-4 mb-0">Food Name: </label>
                                            <input class="form-control col-xl-8 col-sm-7" id="FoodName" asp-for="MenuItem.FoodName" type="text" required="">
                                            <span asp-validation-for="MenuItem.FoodName" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>

                                        <div class="form-group mb-3 row">
                                            <label for="Price" class="col-xl-3 col-sm-4 mb-0">Price: </label>
                                            <input class="form-control col-xl-8 col-sm-7" id="Price" asp-for="MenuItem.Price" type="number" step="0.01" required="">
                                            <span asp-validation-for="MenuItem.Price" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>
                                        <div class="form-group mb-3 row">
                                            <label for="SalePrice" class="col-xl-3 col-sm-4 mb-0">Sale Price: </label>
                                            <input class="form-control col-xl-8 col-sm-7" id="SalePrice" asp-for="MenuItem.SalePrice" type="number" step="0.01" required="">
                                            <span asp-validation-for="MenuItem.SalePrice" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>
                                        <div class="form-group mb-3 row">
                                            <label for="Sale" class="col-xl-3 col-sm-4 mb-0">Sale: </label>
                                            <input class="form-control col-xl-8 col-sm-7" id="Sale" asp-for="MenuItem.Sale" type="number" step="0.01" required="">
                                            <span asp-validation-for="MenuItem.Sale" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>
                                        <div class="form-group mb-3 row">
                                            <label for="Quantity" class="col-xl-3 col-sm-4 mb-0">Quantity: </label>
                                            <input class="form-control col-xl-8 col-sm-7" id="Quantity" asp-for="MenuItem.Qty" type="number" step="0.01" required="">
                                            <span asp-validation-for="MenuItem.Qty" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>
                                        <div class="form-group mb-3 row">
                                            <label for="Total" class="col-xl-3 col-sm-4 mb-0">Total: </label>
                                            <input class="form-control col-xl-8 col-sm-7" id="Total" asp-for="MenuItem.Total" type="number" step="0.01" required="">
                                            <span asp-validation-for="MenuItem.Total" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>
                                        <div class="form-group mb-3 row">
                                            <label for="Description" class="col-xl-3 col-sm-4 mb-0">Description: </label>
                                            <textarea class="form-control col-xl-8 col-sm-7" id="Total" asp-for="MenuItem.Description" type="number" step="0.01" required=""></textarea>
                                            <span asp-validation-for="MenuItem.Description" class="text-danger" style="font-size: 0.8rem;"></span>
                                            <div class="valid-feedback">Saved</div>
                                        </div>



                                        <input type="hidden" asp-for="MenuItem.MenuItemId" />

                                        <div class="offset-xl-3 offset-sm-4">
                                            <label for="MenuItemImageFile" class="btn btn-outline-primary btn-sm mb-2" style="margin-top:10px; margin-right:70px;">
                                                <i class="fa fa-upload"></i> Select Image
                                            </label>
                                            <input type="file" id="MenuItemImageFile" name="MenuItemImageFile" accept="image/*" onchange="previewImage(event)" style="display: none;">
                                            <button type="submit" class="btn btn-primary">Save</button>
                                            <a asp-action="MenuList" asp-controller="Dashpord" asp-route-restaurantId="@Model.SelectedRestaurantId" class="btn btn-secondary">Cancel</a>

                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function previewImage(event) {
        var reader = new FileReader();
        reader.onload = function () {
            var output = document.getElementById('previewImage');
            output.src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>
